# ============================================================================
# VINTEDBOT ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to git - it contains secrets!
# ============================================================================

# ============================================================================
# CORE CONFIGURATION
# ============================================================================
ENV=development  # development, staging, production
MOCK_MODE=false  # Set to true for testing without real Vinted API
PLAYWRIGHT_HEADLESS=true  # Run browser automation headless

# ============================================================================
# DATABASE (PostgreSQL)
# ============================================================================
DATABASE_URL=postgresql://user:password@localhost:5432/vintedbot

# Connection Pool Settings (prevent connection leaks)
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ============================================================================
# REDIS (Caching + Distributed Locks)
# ============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=  # Leave empty for local development
REDIS_DB=0
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# AI Cache Settings
AI_CACHE_TTL_DAYS=30

# ============================================================================
# SECURITY & AUTHENTICATION
# ============================================================================
# CRITICAL: Use strong random values in production!
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-here-CHANGE-THIS
JWT_SECRET_KEY=your-jwt-secret-here-CHANGE-THIS
ENCRYPTION_KEY=your-encryption-key-32-chars

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,https://vintedbot.app

# Admin Bootstrap (for first-time setup only)
BOOTSTRAP_KEY=your-bootstrap-key-here

# ============================================================================
# AI & MACHINE LEARNING
# ============================================================================
# OpenAI API (GPT-4, GPT-4o-mini, Vision)
OPENAI_API_KEY=sk-proj-...  # Get from https://platform.openai.com/api-keys

# Cost Limits (prevent runaway costs)
OPENAI_COST_LIMIT_GLOBAL=100.00  # $100/month max
OPENAI_COST_LIMIT_PER_USER=10.00  # $10/user/month max

# Anthropic Claude API (for auto-fix monitoring)
ANTHROPIC_API_KEY=sk-ant-...  # Optional, for advanced monitoring

# Image Optimization (reduce costs ~75%)
AI_IMAGE_MAX_DIMENSION=1536
AI_IMAGE_QUALITY=85

# ============================================================================
# OAUTH & INTEGRATIONS
# ============================================================================
# Google OAuth (optional)
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:5000/auth/google/callback

# ============================================================================
# NOTIFICATIONS & WEBHOOKS
# ============================================================================
# Discord Webhook for feedback notifications
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/...

# Telegram Bot (optional)
ENABLE_TELEGRAM=false
TELEGRAM_BOT_TOKEN=your-telegram-bot-token
TELEGRAM_CHAT_ID=your-telegram-chat-id

# ============================================================================
# EMAIL (SMTP)
# ============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_FROM_EMAIL=noreply@vintedbot.app
SMTP_FROM_NAME=VintedBot
SMTP_PASSWORD=your-smtp-password

# ============================================================================
# MONITORING & ERROR TRACKING
# ============================================================================
# Sentry Error Tracking (production monitoring)
SENTRY_DSN=https://...@sentry.io/...
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=1.0
SENTRY_PROFILES_SAMPLE_RATE=1.0

# Claude Auto-Fix (automated error resolution)
ENABLE_CLAUDE_AUTO_FIX=false

# ============================================================================
# STORAGE
# ============================================================================
# Local Storage Path
LOCAL_STORAGE_PATH=./backend/data

# Backup Configuration
BACKUP_DIR=./backups
BACKUP_RETENTION_DAYS=30

# ============================================================================
# CRON JOBS & SCHEDULING
# ============================================================================
# Price Drop Cron Schedule (cron format: minute hour day month weekday)
PRICE_DROP_CRON=0 2 * * *  # 2 AM daily

# ============================================================================
# DEPLOYMENT & CI/CD
# ============================================================================
GIT_COMMIT=  # Auto-filled by CI/CD

# ============================================================================
# NOTES
# ============================================================================
# 1. All API keys should be kept SECRET - never commit to git
# 2. Use strong random values for SECRET_KEY and JWT_SECRET_KEY
# 3. Set appropriate OPENAI_COST_LIMIT to prevent runaway costs
# 4. Enable SENTRY_DSN in production for error tracking
# 5. Set CORS ALLOWED_ORIGINS to your actual frontend domains
# 6. Use environment-specific values (dev, staging, prod)
# ============================================================================
