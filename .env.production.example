# ============================================================================
# VINTEDBOTS - PRODUCTION CONFIGURATION
# ============================================================================
# Copy this file to .env.production and fill in your values
# NEVER commit .env.production to git!

# ============================================================================
# APPLICATION
# ============================================================================
ENVIRONMENT=production
APP_VERSION=1.0.0
DEBUG=false

# Frontend URL (for CORS and emails)
FRONTEND_URL=https://your-domain.com
ALLOWED_ORIGINS=https://your-domain.com

# ============================================================================
# DATABASE - PostgreSQL
# ============================================================================
DATABASE_URL=postgresql+asyncpg://user:password@postgres:5432/vintedbots
STORAGE_BACKEND=postgresql

# Connection pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Enable SQL query logging (disable in production for performance)
SQL_ECHO=false

# ============================================================================
# REDIS - Cache & Job Queue
# ============================================================================
REDIS_URL=redis://default:your-redis-password@redis:6379/0
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# ============================================================================
# S3/MinIO - Photo Storage
# ============================================================================
S3_ENDPOINT=http://minio:9000
S3_ACCESS_KEY=your-minio-access-key
S3_SECRET_KEY=your-minio-secret-key
S3_BUCKET=vintedbots-photos
S3_REGION=us-east-1
S3_PUBLIC_URL=https://cdn.your-domain.com  # Optional: CDN URL

# Or use AWS S3
# S3_ENDPOINT=https://s3.amazonaws.com
# S3_ACCESS_KEY=your-aws-access-key
# S3_SECRET_KEY=your-aws-secret-key

# ============================================================================
# OPENAI - AI Photo Analysis
# ============================================================================
OPENAI_API_KEY=sk_...your-openai-api-key...

# Cost limits (USD per day)
OPENAI_COST_LIMIT_PER_USER=5.0
OPENAI_COST_LIMIT_GLOBAL=500.0

# ============================================================================
# STRIPE - Payments
# ============================================================================
STRIPE_SECRET_KEY=sk_live_...your_stripe_secret_key...
STRIPE_WEBHOOK_SECRET=whsec_...your-webhook-secret...
STRIPE_PUBLISHABLE_KEY=pk_live_...your-publishable-key...

# Stripe Price IDs (create these in Stripe Dashboard)
STRIPE_PRICE_STARTER=price_...
STRIPE_PRICE_PRO=price_...
STRIPE_PRICE_SCALE=price_...

# ============================================================================
# SECURITY
# ============================================================================
# JWT secret (generate with: openssl rand -hex 32)
JWT_SECRET=your-super-secret-jwt-key-at-least-32-characters-long

# Encryption key for Vinted sessions (generate with: openssl rand -hex 32)
ENCRYPTION_KEY=your-super-secret-encryption-key-must-be-32-chars

# Password hashing
ARGON2_TIME_COST=2
ARGON2_MEMORY_COST=65536
ARGON2_PARALLELISM=4

# ============================================================================
# MONITORING - Sentry
# ============================================================================
SENTRY_DSN=https://...@sentry.io/...
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1

# Git commit hash (auto-populated by CI/CD)
GIT_COMMIT=

# ============================================================================
# EMAIL - SMTP
# ============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@your-domain.com
SMTP_FROM_NAME=VintedBot

# ============================================================================
# BACKUP
# ============================================================================
BACKUP_DIR=backend/data/backups
BACKUP_RETENTION_DAYS=30
BACKUP_TO_S3=true

# ============================================================================
# PLAYWRIGHT - Browser Automation
# ============================================================================
PLAYWRIGHT_HEADLESS=true

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ============================================================================
# TTL - Time To Live
# ============================================================================
TTL_DRAFTS_DAYS=30
TTL_PUBLISH_LOG_DAYS=90

# ============================================================================
# CRON JOBS
# ============================================================================
# Inbox sync interval (minutes)
SYNC_INTERVAL_MIN=15

# Price drop schedule (cron format)
PRICE_DROP_CRON=0 3 * * *

# ============================================================================
# DOCKER COMPOSE OVERRIDES
# ============================================================================
# PostgreSQL
POSTGRES_USER=vintedbots
POSTGRES_PASSWORD=your-secure-postgres-password

# Redis password
REDIS_PASSWORD=your-secure-redis-password

# MinIO credentials
MINIO_ROOT_USER=admin
MINIO_ROOT_PASSWORD=your-secure-minio-password

# Grafana admin password
GRAFANA_PASSWORD=your-secure-grafana-password
